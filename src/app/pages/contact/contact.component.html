<mat-card class="form__container">
  <h1>Contactanos</h1>
  <p>Valido: {{ formData.valid ? "Si" : "No" }}</p>
  <form [formGroup]="formData" (ngSubmit)="submitForm()" class="form">
    <mat-form-field appearance="fill">
      <mat-label>Nombre</mat-label>
      <input
        matInput
        formControlName="name"
        name="name"
        placeholder="Nombre"
        type="text"
      />
    </mat-form-field>

    <!-- <div class="error" *ngIf="userEmail()?.invalid && userEmail()?.touched">
      <small *ngIf="userEmail()?.getError('required')" class="redText"
        >El Email es obligatorio
        <br />
      </small>

      <small *ngIf="userEmail()?.getError('minlength')" class="redText"
        >El minimo de caracteres es 10
        <br />
      </small>

      <small *ngIf="userEmail()?.getError('email')" class="redText"
        >El formato es incorrecto
        <br />
      </small>
    </div> -->

    <br />
    <mat-form-field appearance="fill">
      <mat-label for="email">Email</mat-label>
      <input
        matInput
        formControlName="email"
        placeholder="Email"
        type="email"
      />
    </mat-form-field>

    <br />
    <mat-form-field appearance="fill">
      <mat-label for="age">Edad</mat-label>
      <input matInput formControlName="age" min="0" max="150" type="number" />
    </mat-form-field>

    <br />
    <div class="form__checkbox">
      <label for="mailingList"><h4>Suscribirse al mailing list</h4></label>
      <mat-checkbox
        formControlName="mailingList"
        type="checkbox"
      ></mat-checkbox>
    </div>

    <br />
    <br />

    <div>
      <table mat-table [dataSource]="shirtData">
        <ng-container
          *ngFor="let shirtField of shirtDataModel"
          matColumnDef="{{ shirtField.matColumnDef }}"
        >
          <th mat-header-cell *matHeaderCellDef>
            {{ shirtField.matHeaderCellDef }}
          </th>
          <td mat-cell *matCellDef="let shirt">
            {{ shirt[shirtField.matCellDef] }}
          </td>
        </ng-container>

        <!-- <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef>Quantity</th>
          <td mat-cell *matCellDef="let shirt">{{ shirt.quantity }}</td>
        </ng-container>

        <ng-container matColumnDef="abbreviation">
          <th mat-header-cell *matHeaderCellDef>Abbreviation</th>
          <td mat-cell *matCellDef="let shirt">{{ shirt.abbr }}</td>
        </ng-container> -->

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <br /><br />
    <div formGroupName="address">
      <label for="street">Calle</label>
      <input
        formControlName="street"
        name="street"
        placeholder="Calle"
        id="street"
        type="text"
      />

      <br />
      <label for="number">Numeracion</label>
      <input
        formControlName="number"
        name="number"
        placeholder="Numeracion"
        id="number"
        type="text"
      />

      <br />
      <label for="zipCode">Codigo Postal</label>
      <input
        formControlName="zipCode"
        name="zipCode"
        placeholder="Codigo Postal"
        id="zipCode"
        type="text"
      />
    </div>

    <div class="form__shirtSize">
      <mat-button-toggle-group formControlName="shirtSize">
        <mat-button-toggle
          *ngFor="let shirt of shirtData"
          value="shirt.desc"
          [disabled]="shirt.quantity === 0"
          >{{ shirt.abbr }}</mat-button-toggle
        >
      </mat-button-toggle-group>
    </div>

    <!-- <mat-form-field appearance="fill">
      <mat-label>Color</mat-label>
      <mat-select>
        <mat-option *ngFor="shirtColor; of: ShirtColors" [value]="shirtColor.desc">{{
          shirtColor.color
        }}</mat-option>
      </mat-select>
    </mat-form-field> -->

    <div class="form__buttons">
      <button mat-raised-button color="primary" type="submit">Enviar</button>
      <button mat-raised-button (click)="resetAddress()">
        Resetear direccion
      </button>
    </div>
  </form>
  <br />
  <br />
</mat-card>

<app-progress-bar [loading]="loading"></app-progress-bar>
